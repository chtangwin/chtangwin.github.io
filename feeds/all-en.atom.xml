<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>chtangwin</title><link href="https://chtangwin.github.io/" rel="alternate"></link><link href="http://chtangwin.github.io//feeds%5Call-en.atom.xml" rel="self"></link><id>https://chtangwin.github.io/</id><updated>2014-11-20T22:09:00-05:00</updated><entry><title>Github Blog Setup</title><link href="https://chtangwin.github.io/blog/2014/11/20/github-blog-setup/" rel="alternate"></link><updated>2014-11-20T22:09:00-05:00</updated><author><name>chtangwin</name></author><id>tag:chtangwin.github.io,2014-11-20:blog/2014/11/20/github-blog-setup/</id><summary type="html">&lt;p&gt;Now I have decided to use github + pelican for personal blog. The plan is to 
integrate with ipython notebook so all the math and stats notes can be displayed 
easily. &lt;/p&gt;
&lt;h2&gt;Setup Steps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Follow the instructions from &lt;a href="http://ntanjerome.org/blog/how-to-setup-github-user-page-with-pelican/"&gt;How to setup Github User Page with Pelican&lt;/a&gt;, up to
the point where first post is done and local devserver is up. The only difference
is that I am using main branch ("master") for all edits. The other &lt;strong&gt;very good&lt;/strong&gt; references are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html"&gt;Migrating to GitHub Pages using Pelican&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://chdoig.github.io/create-pelican-blog.html"&gt;Createing your blog with Pelican&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In fact, they use pretty themes. I plan to read through carefully later
and see if can use some of their settings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For now, use the same theme as in &lt;a href="http://nbviewer.ipython.org/url/ocefpaf.github.com/python4oceanographers/downloads/notebooks/2013-12-23-blogging.ipynb"&gt;python4oceanographers&lt;/a&gt;, mainly download &lt;em&gt;theme&lt;/em&gt; and &lt;em&gt;plugin&lt;/em&gt; from github, then edit &lt;em&gt;pelicanconf.py&lt;/em&gt; and &lt;em&gt;publishconf.py&lt;/em&gt; scripts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;git clone https://github.com/jakevdp/pelican-octopress-theme.git
&lt;span class="nv"&gt;$ &lt;/span&gt;git clone https://github.com/getpelican/pelican-plugins.git
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write markdown files in &lt;code&gt;conten&lt;/code&gt; folder, then run &lt;code&gt;make devserver&lt;/code&gt; to generate HTML 
for the site, and serves is up locally at &lt;a href="http://localhost:8000"&gt;http://localhost:8000&lt;/a&gt;.
Note that &lt;code&gt;make devserver&lt;/code&gt; will also automatically regenerate the whole site, i.e. run &lt;code&gt;pelican&lt;/code&gt; on &lt;code&gt;content&lt;/code&gt; every time one save a change to a content, configuration, or theme file. Just refresh the page in your browser, and you should immediately see the changes. To shutdown the webserver, use &lt;code&gt;make stopserver&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now we have two repos, one is for &lt;code&gt;blog-source&lt;/code&gt;, the other is actual site under &lt;code&gt;output&lt;/code&gt; directory. See &lt;a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html"&gt;Posting to GitHub&lt;/a&gt; 
for how to publish to username.github.io site. In short summary, use the following commands:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;blog
&lt;span class="nv"&gt;$ &lt;/span&gt;pelican content   &lt;span class="c"&gt;# or &amp;quot;make html&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;output
&lt;span class="nv"&gt;$ &lt;/span&gt;git add --all
&lt;span class="nv"&gt;$ &lt;/span&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;commit message&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;git push origin master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The disadvantage of previous step is that two checkins are needed for update, one
for &lt;code&gt;blog-source&lt;/code&gt;, the other for actual site. One can use &lt;em&gt;git hooks&lt;/em&gt; to push changes
to both repos at the same time, as shown 
&lt;a href="http://mavant.com/blog/2014/03/10/pelican-git-hooks-github-dot-io/"&gt;here&lt;/a&gt;.
Now one can do the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vim content/your-message.md
&lt;span class="nv"&gt;$ &lt;/span&gt;git commit -am &lt;span class="s2"&gt;&amp;quot;commit message&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;git push origin master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Workflow&lt;/h2&gt;
&lt;p&gt;I use &lt;code&gt;conda&lt;/code&gt; to manage virtualenv. the normal workflow is going to like below:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;activate myblog
&lt;span class="nv"&gt;$ &lt;/span&gt;vim content/blog-post-file.md  &lt;span class="c"&gt;# add/edit entries&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;... &lt;span class="c"&gt;# test locally till all is good&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;git commit -am &lt;span class="s2"&gt;&amp;quot;commit message&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;git push origin master
&lt;span class="nv"&gt;$ &lt;/span&gt;deactie myblog &lt;span class="c"&gt;# or just exit once all done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As to ipython notebook integration and how to use markdown, the blog post from Jake
&lt;a href="https://jakevdp.github.io/blog/2013/05/07/migrating-from-octopress-to-pelican/"&gt;Migrating from Octopress to Pelican&lt;/a&gt;
gives very detailed instructions. Check it out.&lt;/p&gt;
&lt;h2&gt;Resources&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://chdoig.github.io/create-pelican-blog.html"&gt;Creating your blog with Pelican&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html"&gt;Migrating to GitHub Pages using Pelican&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;TODO&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;disqus setup&lt;/li&gt;
&lt;li&gt;ipython notebook integration&lt;/li&gt;
&lt;li&gt;update .bashrc for deactive() call&lt;/li&gt;
&lt;li&gt;starting writing real contents&lt;/li&gt;
&lt;/ul&gt;</summary><category term="blog"></category><category term="python"></category></entry></feed>